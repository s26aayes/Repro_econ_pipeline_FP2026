# GEMINI.md

## Project Overview

This is a **Reproducible Research Project Template** designed for economics. It uses a modern Python-based stack to manage data, analysis, and the generation of research outputs (papers and presentations) in a reproducible way. The core philosophy is that every result should be automatically regeneratable from raw data using a defined workflow.

## Key Technologies & Tools

*   **Language:** Python (>= 3.14)
*   **Environment & Dependency Management:** [Pixi](https://pixi.sh/)
*   **Workflow Automation:** [Pytask](https://pytask-dev.readthedocs.io/)
*   **Documentation & Paper:** [MyST](https://mystmd.org/) / [Jupyter Book](https://jupyterbook.org/)
*   **Presentations:** [Slidev](https://sli.dev/) (Node.js)
*   **Linting & Formatting:** [Ruff](https://docs.astral.sh/ruff/)
*   **Testing:** [Pytest](https://docs.pytest.org/)

## Directory Structure

*   `src/template_project/`: The main Python package containing the research logic.
    *   `data/`: Raw data files (or scripts to download them).
    *   `data_management/`: Scripts to clean and prepare data.
    *   `analysis/`: Models and statistical analysis.
    *   `final/`: Generation of plots and tables for the final output.
*   `documents/`: Source files for the research paper (`paper.md`) and presentation (`presentation.md`).
*   `docs_template/`: Source for the general project documentation (website).
*   `tests/`: Unit and integration tests for the code in `src/`.
*   `.github/`: CI/CD workflows (GitHub Actions).

## Getting Started & Workflow

This project relies heavily on **Pixi** for managing tasks and environments.

### 1. Environment Setup

The project uses `pixi` to manage dependencies. Ensure `pixi` is installed.
The environment is defined in `pyproject.toml`.

### 2. Running the Analysis (Pytask)

The core workflow is managed by `pytask`. It automatically detects dependencies between data, scripts, and outputs.

```bash
pixi run pytask
```

To visualize the workflow graph (DAG):

```bash
pixi run recreate-dag
```

### 3. Generating Outputs

*   **View Paper (HTML):**
    ```bash
    pixi run view-paper
    ```
*   **View Presentation:**
    ```bash
    pixi run view-pres
    ```
*   **Build & View Project Documentation:**
    ```bash
    pixi run docs
    pixi run view-docs
    ```

### 4. Development & Testing

*   **Run Tests:**
    ```bash
    pixi run pytest
    ```
*   **Linting & Formatting:**
    The project uses `pre-commit` hooks enforced by `ruff` and other tools.
    ```bash
    pre-commit run --all-files
    ```

## Development Conventions

*   **Reproducibility:** All results must be generated by scripts managed by `pytask`. Avoid manual steps.
*   **Code Style:** Adhere strictly to `ruff` configuration (Google-style docstrings).
*   **Configuration:**
    *   Python/Project config: `pyproject.toml`
    *   Paper/Docs config: `myst.yml`
    *   Pre-commit config: `.pre-commit-config.yaml`
